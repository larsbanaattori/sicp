# Exercise 1.26

Louis' version of `expmod` yields a tree-recursive process. Thus, its time complexity is proportional to the number of nodes in the tree. Let us show that the number of nodes in the tree is `O(n)` by induction. We'll define `T(n)` as the number of children nodes in the recursion tree generated by `(expmod base n m)`.

`(expmod base 0 m)` generates a tree with a single node, i.e., no children.

`(expmod base 1 m)` generates a tree with one child.

Let us now consider the general case where `n` is even. In this case, we have `T(n) = 2 * T(n/2)`. If `n` is odd, we have `T(n) = 1 + T(n-1) = 1 + 2 * T((n-1)/2)`. Thus, if we assume that `T(m) = m` for all `m < n`, we have:

- `T(n) = 2 * T(n/2) = 2 * n/2 = n` if `n` is even
- `T(n) = 1 + 2 * T((n-1)/2) = 1 + 2 * (n-1)/2 = 1 + n - 1 = n` if `n` is off.

Thus, by recursion, `T(n) = n` for all `n`. This implies that the time complexity of Louis' `expmod` is `O(n)`.

Intuitively, Louis' mistake is that he duplicates a lot of computations because of calling `(expmod base (/ exp 2) m)` twice in the recursive call for odd values of `exp` instead of evaluating the combination only once and then squaring.
